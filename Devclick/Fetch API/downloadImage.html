<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <!-- <a href="" style="display: none"></a> -->

    <script>
        // fetch('https://lh3.googleusercontent.com/a/ACg8ocIAgbsbkRncTbA0WB_wI6MvuTUANHWiknzBHV_TwOZoGjbSAstI=s96-c')
        //     .then(response => response.blob())
        //     .then((blob) => {
        //         const imageUrl = window.URL.createObjectURL(blob)
        //         const a = document.createElement('button')
        //         // a.style.display = 'none'
        //         a.innerHTML=
        //         a.href = imageUrl

        //         a.download = 'image.jpg'
        //         a.click()

        //         window.URL.revokeObjectURL(imageUrl)
        //         document.body.removeChild(a)

        //     })
        //     .catch((error) => {
        //         console.log(error)
        //     })


        async function downloadImage(apiUrl) {
            try {

                const response = await fetch('https://lh3.googleusercontent.com/a/ACg8ocIAgbsbkRncTbA0WB_wI6MvuTUANHWiknzBHV_TwOZoGjbSAstI=s96-c')


                if (!response.ok) {
                    throw new Error('Network response was not ok')
                }

                const blob = await response.blob()
                const url = URL.createObjectURL(blob)

                const a = new Object()
                a.href = url
                a.download = 'downloaded-image.jpg'

                const clickEvent = new MouseEvent('click', {
                    view: window,
                    bubbles: true,
                    cancelable: true
                })
                const anchor = document.createElement('a')
                anchor.href = a.href
                anchor.download = a.download
                anchor.dispatchEvent(clickEvent)

                URL.revokeObjectURL(url)
            } catch (error) {
                console.error('Error downloading the image:', error)
            }
        }

        const imageApiUrl = 'https://lh3.googleusercontent.com/a/ACg8ocIAgbsbkRncTbA0WB_wI6MvuTUANHWiknzBHV_TwOZoGjbSAstI=s96-c'
        downloadImage(imageApiUrl)

    </script>
</body>

</html>